@model FlightBooking

@{
    Layout = "~/Views/Shared/_LayoutCRUD.cshtml";
}
<link href="~/better-life/assets/css/ace.min.tab.css" rel="stylesheet" />
<ol class="breadcrumb editbreadcrum">
    <li><a href="/" target="_parent"><i class="glyphicon glyphicon-home"></i> Trang chủ</a></li>
    <li><a href="/FlightBooking/" target="_parent">Booking</a></li>
    <li class="active">Cập nhật thông tin</li>
</ol>
<div class="">
    @using (Html.BeginForm("Add", "FlightBooking", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        @Html.AntiForgeryToken()
        @Html.ValidationSummary(true)
        <table class="table_insert col-md-12" align="center" style="width:100%;">
            <tr>
                <td class="tt-title-form"><b>Đường bay</b></td>
                <td>:</td>
                <td>
                    @Html.DropDownList("FlightRouteId", null, htmlAttributes: new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.FlightRouteId, "", new { @class = "text-danger" })
                </td>
            </tr>
            <tr>
                <td class="tt-title-form"><b>Chuyến bay</b></td>
                <td>:</td>
                <td>
                    @Html.DropDownList("AirId", null, htmlAttributes: new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.AirId, "", new { @class = "text-danger" })
                </td>
            </tr>
            <tr>
                <td class="tt-title-form"><b>Mã booking<span class="error">(*)</span></b></td>
                <td>:</td>
                <td>
                    @Html.EditorFor(model => model.Code, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.Code, "", new { @class = "text-danger" })
                </td>
            </tr>
            <tr>
                <td class="tt-title-form"><b>Số kg tự động <span class="error">(*)</span></b></td>
                <td>:</td>
                <td>
                    @Html.EditorFor(model => model.AutomaticWeigh, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.AutomaticWeigh, "", new { @class = "text-danger" })
                </td>
            </tr>
            <tr>
                <td class="tt-title-form"><b>Số kg nhập tay <span class="error">(*)</span></b></td>
                <td>:</td>
                <td>
                    @Html.EditorFor(model => model.EnterManuallyWeigh, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.EnterManuallyWeigh, "", new { @class = "text-danger" })
                </td>
            </tr>
            <tr>
                <td class="tt-title-form"><b>Số kiện tự động <span class="error">(*)</span></b></td>
                <td>:</td>
                <td>
                    @Html.EditorFor(model => model.AutomaticTrackingCount, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.AutomaticTrackingCount, "", new { @class = "text-danger" })
                </td>
            </tr>
            <tr>
                <td class="tt-title-form"><b>Số kiện nhập tay <span class="error">(*)</span></b></td>
                <td>:</td>
                <td>
                    @Html.EditorFor(model => model.EnterManuallyTrackingCount, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.EnterManuallyTrackingCount, "", new { @class = "text-danger" })
                </td>
            </tr>
            <tr>
                <td class="tt-title-form"><b>Kích thước <span class="error">(*)</span></b></td>
                <td>:</td>
                <td>
                    @Html.DropDownList("Size", null, htmlAttributes: new { @class = "form-control" })
                </td>
            </tr>
            <tr>
                <td class="tt-title-form"><b>Hình vận đơn</b></td>
                <td>:</td>
                <td>
                    <label class="ace-file-input">
                        <input type="file" name="upImage" id="id-input-file-2">
                        <span class="ace-file-container" data-title="Chọn hình">
                            <span class="ace-file-name" data-title="Chưa có hình">
                                <i class="ace-icon fa fa-upload"></i>
                            </span>
                        </span>
                        <a class="remove" href="#"><i class="ace-icon fa fa-times"></i></a>
                    </label>
                </td>
            </tr>

            <tr>
                <td class="tt-title-form"><b>Ngày booking <span class="error">(*)</span></b></td>
                <td>:</td>
                <td>
                    <div class='input-group date' id='datetimepicker2'>
                        @Html.EditorFor(model => model.BookingDate, new { htmlAttributes = new { @class = "form-control datepicker" } })
                        @Html.ValidationMessageFor(model => model.BookingDate, "", new { @class = "text-danger" })
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                    </div>
                </td>
            </tr>
            <tr>
                <td class="tt-title-form"><b>Giờ booking <span class="error">(*)</span></b></td>
                <td>:</td>
                <td>
                    <div class='input-group date' id='datetimepicker_hour_2'>
                        @Html.EditorFor(model => model.BookingHour, new { htmlAttributes = new { @class = "form-control hour" } })
                        @Html.ValidationMessageFor(model => model.BookingHour, "", new { @class = "text-danger" })
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                    </div>
                </td>
            </tr>
            <tr>
                <td class="tt-title-form"><b>Trạng thái</b></td>
                <td>:</td>
                <td>
                    @Html.DropDownList("StatusId", null, htmlAttributes: new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.StatusId, "", new { @class = "text-danger" })
                </td>
            </tr>
            <tr>
                <td class="tt-title-form"><b>Chọn công ty</b></td>
                <td>:</td>
                <td>
                    @Html.DropDownList("MAWB", null, htmlAttributes: new { @class = "form-control", @multiple = "multiple" })

                    <script>
                        @if (Model.FlightBookingMAWBs != null)
                        {
                            foreach (var item in Model.FlightBookingMAWBs)
                            {
                                <text>$('#MAWB option[value=@(item.MAWBId)]').attr('selected', 'selected');</text>
                            }
                        }
                    </script>
                </td>
            </tr>
            <tr>
                <td class="tt-title-form"><b>Chọn cá nhân</b></td>
                <td>:</td>
                <td>
                    @Html.DropDownList("HAWB", null, htmlAttributes: new { @class = "form-control", @multiple = "multiple" })
                    <script>
                        @if (Model.FlightBookingHAWBs != null)
                        {
                            foreach (var item in Model.FlightBookingHAWBs)
                            {
                                <text>$('#HAWB option[value=@(item.HAWBId)]').attr('selected', 'selected');</text>
                            }
                        }
                    </script>
                </td>
            </tr>
            <tr>
                <td class="tt-title-form"><b>Ghi chú</b></td>
                <td>:</td>
                <td>
                    <textarea rows="6" name="Notes" id="Notes" class="form-control"></textarea>
                </td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td>
                    <button type="submit" class="btncreate btn btn-large btn-success tt-margin-right tt-width-button"><i class="glyphicon glyphicon-floppy-disk"></i> Lưu</button>
                    <button type="reset" class="btn btn-large btn-info tt-width-button"><i class="glyphicon glyphicon-refresh"></i> Xóa</button>
                </td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td>
                    @Html.ValidationSummary(false)
                </td>
            </tr>
        </table>

    }
</div>

<script type="text/javascript">
    jQuery(function ($) {
        $('#id-input-file-2').change(function () {
            $(".ace-file-name").attr("data-title", $(this).val().split('\\').pop());
            $(".ace-file-input .remove").show();
            $(".ace-file-input .remove").css("right", "66px");
        });
        $(".ace-file-input .remove").click(function () {
            $('#id-input-file-2').val("");
            $(".ace-file-input .remove").hide();
            $(".ace-file-name").attr("data-title", "Chưa có hình");
        });
    });
</script>
